<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Mod 3 > Week 2 > Day 5</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="/swe/favicon.ico">
    <link rel="stylesheet" href="/swe/modest.css">
    <link rel="stylesheet" href="/swe/prism.css">
    <link rel="stylesheet" href="/swe/style.css">
  </head>
  <body>
    <h1>Mod 3 > Week 2 > Day 5</h1>
    <p>Below are some experimental code blocks</p>
    <nav class="tabbed-code-block"><a href="#javascript">Javascript</a><a href="#java">Java</a></nav>
    <pre><code class="language-javascript">const http = require('http');
const oracledb = require('oracledb');
let error;
let user;
 
oracledb.getConnection(
    {
      user: process.env.EECS_USER, 
      password: process.env.EECS_PASSWORD,
      connectString: 'dbaccess'
    }, 
    function(err, connection) {
      if (err) {error = err; return;}
      
      connection.execute('select user from dual', [], function(err, result) {
        if (err) {error = err; return;}
 
        user = result.rows[0][0];
        error = null;
 
        connection.close(function(err) {
          if (err) {console.log(err);}
        });
      })
    }
);
 
http.createServer(function(request, response) {
  response.writeHead(200, {'Content-Type': 'text/plain'});
 
  if (error === null) {
    response.end('Connection test succeeded. You connected to Exadata Express as ' + user + '!');
  } else if (error instanceof Error) {
    response.write('Connection test failed. Check the settings and redeploy app!\n');
    response.end(error.message);
  } else {
    response.end('Connection test pending. Refresh after a few seconds...');
  }
}).listen(process.env.PORT);
</code></pre>
    <pre><code class="language-java">public class OracleJdbcTest
{
	String driverClass = "oracle.jdbc.driver.OracleDriver";

	Connection con;
	
	public void init(FileInputStream fs) throws ClassNotFoundException, SQLException, FileNotFoundException, IOException
	{
		Properties props = new Properties();
		props.load(fs);
		String url = props.getProperty("db.url");
		String userName = props.getProperty("db.user");
		String password = props.getProperty("db.password");
		Class.forName(driverClass);

		con=DriverManager.getConnection(url, userName, password);
	}
	
	public void fetch() throws SQLException, IOException
	{
		PreparedStatement ps = con.prepareStatement("select SYSDATE from dual");
		ResultSet rs = ps.executeQuery();
		
		while (rs.next())
		{
			// do the thing you do
		}
		rs.close();
		ps.close();
	}

	public static void main(String[] args) 
	{
		OracleJdbcTest test = new OracleJdbcTest();
		test.init();
		test.fetch();
	}
}
</code></pre>
    <p>Some other stuff. And then another example with 4 different languages!</p>
    <nav class="tabbed-code-block"><a href="#python">Python</a><a href="#go">Go</a><a href="#java">Java</a><a href="#javascript">Javascript</a></nav>
    <pre><code class="language-python">print("Hello World")
</code></pre>
    <pre><code class="language-go">fmt.Println("Hello World")
</code></pre>
    <pre><code class="language-java">System.out.println("Hello World");
</code></pre>
    <pre><code class="language-javascript">console.log('Hello World')
</code></pre>
    <p>Not a tabbed block</p>
    <pre><code class="language-java">public main void() {
    // example 2
}
</code></pre>
    <h2>Youtube Embed</h2>
    <iframe src="https://www.youtube.com/embed/OlWomZbCW6I" width="776" height="467" allowfullscreen frameborder="0"></iframe>
    <h2>Slides</h2>
    <iframe src="https://docs.google.com/presentation/d/e/2PACX-1vR9fXGQK-iEBE2zaLeilLJlAM0_90xheU8S1VTGyvT08hmVuKDK-sPlL34MeXf3bv-Pl8zBw9caaHti/embed" width="776" height="467" allowfullscreen frameborder="0"></iframe>
    <p>
      <a href="https://applied.multiverse.io/mod/questionnaire/complete.php?id=6702">attendance log</a>
      <a href="/swe/mod3/wk2/day4.html">prev</a>
      <a href="/swe">main</a>
    </p>
    <script src="/swe/prism.js"></script>
    <script src="/swe/tabbed-code-blocks.js"></script>
  </body>
</html>
